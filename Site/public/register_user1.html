<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro Usuário 1 - PedePet</title>
  <link rel="stylesheet" href="./css/register_user.css">
  <link rel="icon" href="./css/images/icon-pata.png">
</head>

<body>

  <nav>
    <div class="container-nav">
      <img id="logo" src="/public/css/images/logoPedepetRoxo.png">
      <div class="options">
        <ul>
          <li><a href="#">Como funciona</a></li>
          <li><a href="#">Sobre nós</a></li>
          <li><a href="#">FAQ</a></li>
          <li><a href="#">Contato</a></li>
        </ul>
        <button class="btn-login">Entrar</a></button>
      </div>
    </div>
  </nav>

  <main>

    <div class="containerCad">
      <div class="formCad">

        <div class="banner">
          <img src="/public/css/images/Pug.png" class="cachorrinho">
        </div>

        <div class="contentCad">

          <div class="alinhamento">
            <h1>Crie sua conta</h1>
          </div>


          <div class="contentTop">


            <h2>Seus dados</h2>

            <div id="bolinhas2">
              <span onclick="location.href='../register_user/register_user1.html'" class="dot"></span>
              <span onclick="location.href='../register_user/register_user2.html'" class="dot1"></span>
              <span onclick="location.href='../register_user/register_user3.html'" class="dot1"></span>
            </div>
          </div>

          <div class="inputs">

            <span class="title" id="span_nome">Nome</span>
            <input class="inputNome" type="text" placeholder="Seu nome completo">


            <span class="title" id="span_email">Email</span>
            <input class="inputEmail" id="input_email" type="email" placeholder="email@exemplo.com">


            <div class="alinhamento2">
              <div class="alinhamento2_pt1">
                <span class="title" id="span_cpf">CPF</span>
                <input class="inputCPF" id="input_cpf" type="number" placeholder="111.111.111-11">

              </div>

              <div class="alinhamento2_pt2">
                <span class="title" id="span_numero">Telefone</span>
                <input class="inputTel" id="input_telefone" type="tel" placeholder="+55">

              </div>

            </div>

            <span class="title" id="span_senha">Senha</span>
            <input class="inputSenha" id="input_senha" type="password" placeholder="Sua senha">


            <span class="title" id="span_confSenha">Confirme sua senha</span>
            <input class="inputSenha2" id="input_confSenha" type="password" placeholder="Sua senha">

            <span class="title" id="span_escolha">Quero ser um</span>

            <div class="container_box">
              <select name="tipoUser" id="tipoUser" onchange="selecionarUsuario()">
                <option value="" selected disabled>Escolha</option>
                <option value="2">Vendedor</option>
                <option value="1">Comprador</option>
              </select>
            </div>
            <div class="btns">
              <button class="cancelar">Cancelar</button>
              <button onclick="location.href='../register_user/register_user2.html'" class="prosseguir">Prosseguir</button>
            </div>

          </div>
        </div>

      </div>



    </div>
    </div>
  </main>

  <footer>
    <div id="footer_content">
      <div id="footer_contacts">
        <img src="/public/css/images/logoPedepetRoxo.png" alt="Logo PedePet" id="logoFooter">

        <div id="footer_social_media">
          <a href="https://instagram.com/pedepetoficial?igshid=MTIyMzRjYmRlZg==" class="footer-link" id="instagram">
            <img src="/public/css/images/icon-instagram.svg" class="fa-brands fa-facebook-f">
          </a>

          <a href="#" class="footer-link" id="facebook">
            <img src="/public/css/images/icon-facebook.svg" class="fa-brands fa-facebook-f">
          </a>

          <a href="#" class="footer-link" id="whatsapp">
            <img src="/public/css/images/icon-whatsapp.svg" class="fa-brands fa-facebook-f">
          </a>
        </div>
      </div>

      <ul class="footer-list">
        <li>
          <h3>Site</h3>
        </li>
        <li>
          <a href="../home/index.html" class="footer-link">Como funciona</a>
        </li>
        <li>
          <a href="../home/index.html" class="footer-link">Sobre nós</a>
        </li>
        <li>
          <a href="../home/index.html" class="footer-link">FAQ</a>
        </li>
        <li>
          <a href="../home/index.html" class="footer-link">Contato</a>
        </li>
      </ul>

      <ul class="footer-list">
        <li>
          <h3>Funções</h3>
        </li>
        <li>
          <a href="../login/login.html" class="footer-link">Entrar</a>
        </li>
        <li>
          <a href="../register_user/register_user1.html" class="footer-link">Cadastrar-se</a>
        </li>
        <li>
          <a href="../forgotpass/forgotpass_1.html" class="footer-link">Esqueci minha senha</a>
        </li>
      </ul>

      <div id="footer_subscribe">
        <h3>Inscreva-se</h3>

        <p>
          Envie seu e-mail para ser notificado(a) sobre nossas novidades
        </p>

        <div id="input_group">
          <input type="email" id="email" placeholder="email@exemplo.com">
          <button>
            <img src="/public/css/images/email.svg" class="fa-regular fa-envelope">
          </button>
        </div>
      </div>
    </div>

    <div id="footer_copyright">
      &#169
      2023 todos os direitos reservados.
    </div>
  </footer>

</body>

</html>

<script>



function selecionarUsuario() {
        var tipoSelecionado = document.getElementById("tipoUser").value;

        if (tipoSelecionado === "1") {
          cadastrarComprador();
        } else if (tipoSelecionado === "2") {
          cadastrarVendedor();
        }
      }

      // Função para cadastrar um comprador
function cadastrarComprador(comprador) {
  // Armazenar o comprador na Session Storage
  sessionStorage.setItem('comprador', JSON.stringify(comprador));
  // Fazer uma solicitação POST para o backend
  fetch('/compradores', {
    method: 'POST',
    headers: {
                id: document.getElementById("1"),
                nome: document.getElementById("input_nome").value,
                email: document.getElementById("input_email").value,
                cpf: document.getElementById("input_cpf").value,
                numero: document.getElementById("input_numero").value,
                senha: document.getElementById("input_senha").value,
                confSenha: document.getElementById("input_confSenha").value
    },
    body: JSON.stringify(comprador)
  })
  .then(res => res.json())
    .then((res) => {
        console.log(res)
    })
    .catch((err) => {
        console.log(err)
    })
  }

  
// function cadastrarComprador() {
//     fetch("http://localhost:8080/usuarios/cadastrar/comprador", {
//         method: "POST",
//         headers: {
//             "Content-Type": "application/json"
//         },
//         body: JSON.stringify({
//                 id: document.getElementById("1"),
//                 nome: document.getElementById("input_nome").value,
//                 email: document.getElementById("input_email").value,
//                 cpf: document.getElementById("input_cpf").value,
//                 numero: document.getElementById("input_numero").value,
//                 senha: document.getElementById("input_senha").value,
//                 confSenha: document.getElementById("input_confSenha").value
//                  })
//     })
//     .then(res => res.json())
//     .then((res) => {
//         console.log(res)
//     })
//     .catch((err) => {
//         console.log(err)
//     })
// }

// function cadastrarVendedor() {
//     fetch("http://localhost:8080/usuarios/cadastrar/vendedor", {
//         method: "POST",
//         headers: {
//             "Content-Type": "application/json"
//         },
//         body: JSON.stringify({
//                 id: document.getElementById("2"),
//                 nome: document.getElementById("input_nome").value,
//                 email: document.getElementById("input_email").value,
//                 cpf: document.getElementById("input_cpf").value,
//                 numero: document.getElementById("input_numero").value,
//                 senha: document.getElementById("input_senha").value,
//                 confSenha: document.getElementById("input_confSenha").value
//                  })
//     })
//     .then(res => res.json())
//     .then((res) => {
//         console.log(res)
//     })
//     .catch((err) => {
//         console.log(err)
//     })
// }

// function cadastro() {
//     fetch("http://localhost:8080/usuarios", {
//         method: "GET"
//     })
//     .then(res => res.json())
//     .then((res) => {
//         for (let i = 0; i < res._embedded.usuarios.length; i++) {
//             console.log(res._embedded.usuarios[i])
//         }
//     })
// }











</script>